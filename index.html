<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="·ª®ng d·ª•ng qu·∫£n l√Ω n·ª£ ti·ªÅn th√¥ng minh v·ªõi t√≠nh nƒÉng tr·∫£ g√≥p theo th√°ng">
    <meta name="keywords" content="qu·∫£n l√Ω n·ª£, debt tracker, tr·∫£ g√≥p, thanh to√°n">
    <title>Qu·∫£n L√Ω N·ª£ Ti·ªÅn - Debt Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1>üîí ƒêƒÉng Nh·∫≠p</h1>
                <p>Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ truy c·∫≠p ·ª©ng d·ª•ng qu·∫£n l√Ω n·ª£</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginPassword">M·∫≠t kh·∫©u</label>
                    <input type="password" id="loginPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required autofocus>
                </div>
                <button type="submit" class="btn btn-primary">ƒêƒÉng Nh·∫≠p</button>
                <p class="login-hint">M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh: <code>123456</code></p>
                <p class="login-note">B·∫°n c√≥ th·ªÉ ƒë·ªïi m·∫≠t kh·∫©u sau khi ƒëƒÉng nh·∫≠p</p>
            </form>
        </div>
    </div>

    <!-- Main Application (Hidden until logged in) -->
    <div class="container" id="mainApp" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div>
                    <h1>üí∞ Qu·∫£n L√Ω N·ª£ Ti·ªÅn</h1>
                    <p class="subtitle">Theo d√µi v√† qu·∫£n l√Ω c√°c kho·∫£n n·ª£ m·ªôt c√°ch th√¥ng minh</p>
                </div>
                <div class="auth-buttons">
                    <button class="btn btn-secondary btn-small" onclick="showChangePasswordModal()">üîë ƒê·ªïi m·∫≠t
                        kh·∫©u</button>
                    <button class="btn btn-secondary btn-small" onclick="logout()">üö™ ƒêƒÉng xu·∫•t</button>
                </div>
            </div>
        </header>

        <!-- Statistics Dashboard -->
        <section class="stats-dashboard">
            <div class="stat-card stat-owed-to-me">
                <div class="stat-icon">üì•</div>
                <div class="stat-content">
                    <p class="stat-label">Ng∆∞·ªùi kh√°c n·ª£ t√¥i</p>
                    <p class="stat-value" id="totalOwedToMe">0 ‚Ç´</p>
                </div>
            </div>
            <div class="stat-card stat-i-owe">
                <div class="stat-icon">üì§</div>
                <div class="stat-content">
                    <p class="stat-label">T√¥i n·ª£ ng∆∞·ªùi kh√°c</p>
                    <p class="stat-value" id="totalIOwe">0 ‚Ç´</p>
                </div>
            </div>
            <div class="stat-card stat-net">
                <div class="stat-icon">üíµ</div>
                <div class="stat-content">
                    <p class="stat-label">Ch√™nh l·ªách</p>
                    <p class="stat-value" id="netBalance">0 ‚Ç´</p>
                </div>
            </div>
        </section>

        <!-- Add Debt Form -->
        <section class="form-section">
            <h2>‚ûï Th√™m Kho·∫£n N·ª£ M·ªõi</h2>
            <form id="debtForm" class="debt-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="debtType">Lo·∫°i n·ª£</label>
                        <select id="debtType" required>
                            <option value="owedToMe">Ng∆∞·ªùi kh√°c n·ª£ t√¥i</option>
                            <option value="iOwe">T√¥i n·ª£ ng∆∞·ªùi kh√°c</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="personName">T√™n ng∆∞·ªùi</label>
                        <input type="text" id="personName" placeholder="Nh·∫≠p t√™n..." required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="amount">S·ªë ti·ªÅn (‚Ç´)</label>
                        <input type="text" id="amount" placeholder="0" inputmode="numeric" required>
                    </div>
                    <div class="form-group">
                        <label for="date">Ng√†y n·ª£</label>
                        <input type="date" id="date" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="notes">Ghi ch√∫</label>
                    <textarea id="notes" rows="2" placeholder="Th√™m ghi ch√∫ (t√πy ch·ªçn)..."></textarea>
                </div>

                <!-- Installment Payment Section -->
                <div class="installment-section">
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="hasInstallment">
                            <span>Tr·∫£ g√≥p theo th√°ng</span>
                        </label>
                    </div>

                    <div id="installmentDetails" class="installment-details" style="display: none;">
                        <div class="form-group">
                            <label for="installmentMonths">S·ªë th√°ng tr·∫£ g√≥p</label>
                            <input type="number" id="installmentMonths" min="1" max="60" value="12" placeholder="12">
                            <small>M·ªói th√°ng tr·∫£: <span id="monthlyPayment">0 ‚Ç´</span></small>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <span>Th√™m Kho·∫£n N·ª£</span>
                    </button>
                    <button type="button" class="btn btn-secondary" id="cancelBtn" style="display: none;">
                        H·ªßy
                    </button>
                </div>
            </form>
        </section>

        <!-- Filter Section -->
        <section class="filter-section">
            <h2>üìã Danh S√°ch N·ª£</h2>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button>
                <button class="filter-btn" data-filter="owedToMe">Ng∆∞·ªùi kh√°c n·ª£ t√¥i</button>
                <button class="filter-btn" data-filter="iOwe">T√¥i n·ª£ ng∆∞·ªùi kh√°c</button>
                <button class="filter-btn" data-filter="paid">ƒê√£ tr·∫£</button>
                <button class="filter-btn" data-filter="unpaid">Ch∆∞a tr·∫£</button>
            </div>
        </section>

        <!-- Debts List -->
        <section class="debts-list" id="debtsList">
            <div class="empty-state">
                <div class="empty-icon">üìù</div>
                <p>Ch∆∞a c√≥ kho·∫£n n·ª£ n√†o</p>
                <small>Th√™m kho·∫£n n·ª£ ƒë·∫ßu ti√™n c·ªßa b·∫°n ·ªü tr√™n</small>
            </div>
        </section>
    </div>

    <!-- Installment Payment Modal -->
    <div id="installmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÖ Chi Ti·∫øt Tr·∫£ G√≥p</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="installmentModalBody">
                <!-- Content will be dynamically generated -->
            </div>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div class="modal" id="changePasswordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîë ƒê·ªïi M·∫≠t Kh·∫©u</h3>
                <button class="modal-close" onclick="closeChangePasswordModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="changePasswordForm">
                    <div class="form-group">
                        <label for="currentPassword">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                        <input type="password" id="currentPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="newPassword">M·∫≠t kh·∫©u m·ªõi</label>
                        <input type="password" id="newPassword" required minlength="4">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi</label>
                        <input type="password" id="confirmPassword" required minlength="4">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">ƒê·ªïi m·∫≠t kh·∫©u</button>
                        <button type="button" class="btn btn-secondary"
                            onclick="closeChangePasswordModal()">H·ªßy</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>